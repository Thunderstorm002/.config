(async()=>{window.twoseven.APPLE_TV_MEDIAKIT_WEBREQUEST_PATTERN="https://*.apple.com/*/mediakit.js",window.twoseven.APPLE_TV_WEB_TV_APP_WEBREQUEST_PATTERN="https://tv.apple.com/assets/web-tv-app*.js",window.twoseven.APPLE_TV_MEDIAKIT_REGEX_PATTERN=new RegExp("https://.*\\.apple\\.com/.*/mediakit\\.js(\\?.*)?"),window.twoseven.APPLE_TV_WEB_TV_APP_REGEX_PATTERN=new RegExp("https://tv\\.apple\\.com/assets/web-tv-app.*\\.js(\\?.*)?"),window.twoseven.appleTVReplaceMap=new ScriptModifierMap([{key:new XRegExp("(?<fnstart>function playMediaItem\\(([a-zA-Z0-9_]+,?)+\\){)"),value:new ScriptModifierEntry({replace:"${fnstart}\n          triggerEvent(window, 'found-media');\n        "})},{key:new XRegExp("(?<fnstart>function MKInstance\\(\\var,\\var\\){)"),value:new ScriptModifierEntry({replace:"${fnstart}\n          window.twoseven.videoController = this\n          setTimeout(() => {\n            triggerEvent(window, 'controller-event', { action: 'controller-changed' })\n          }, 0)\n        "})},{key:new XRegExp("(?<fnstart>VideoPlayer.prototype.playItemFromEncryptedSource=function\\((\\var,?)+\\){)"),value:new ScriptModifierEntry({replace:"${fnstart}\n        triggerEvent(window, 'controller-event', { action: 'sourceChange' })\n        "})},{key:new XRegExp("(?<fnstart>MKInstance.prototype.play=function\\((\\var,?)*\\){)"),value:new ScriptModifierEntry({replace:"${fnstart}\n          triggerEvent(window, 'twoseven:play')\n        "})},{key:new XRegExp("(?<fnstart>MKInstance.prototype.setQueue=function\\((\\var,?)+\\){)"),value:new ScriptModifierEntry({replace:"${fnstart}\n          triggerEvent(window, 'controller-event', { action: 'playback-ready' })\n        "})}],"tv.apple.com")})();