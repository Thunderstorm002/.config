(()=>{const e=browser.runtime.connect({name:"[tv.youtube.com:video-detect]"}),t=new RegExp("https://tv\\.youtube\\.com/watch/.*");function o(o=window.location.href){e.postMessage({action:"clear-tab-media"}),window.top===window&&t.test(o)&&e.postMessage({action:"add-tab-media",from:"websites/tv.youtube.com/cs/video-detect",to:"bg/tag-media",data:{videoSelector:"webpage",videoURL:o,videoData:{},strategies:null,headers:[],origin:new URL(o).origin,referer:o}})}window.addEventListener("pushstate",e=>o(`${window.location.origin}/${e.detail.data.uri}`)),o()})();