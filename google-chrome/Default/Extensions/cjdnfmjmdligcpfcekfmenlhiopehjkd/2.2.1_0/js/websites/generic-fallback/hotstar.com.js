(()=>{const e="generic-fallback[hotstar.com]",t=e;const i=new class extends BaseGenericFallbackModule{constructor(){super({name:t}),this.hrefURLRegex=new RegExp("https://(.*\\.)?(hotstar).com/.*")}earlyInitialize(){super.earlyInitialize()}isValidVideoElement(e){const t=e.getBoundingClientRect();if(!this.video&&t.width>0&&t.height>0)return!0}async onVideo(e){super.onVideo(e),this.setupWrap();const{video:t}=e,i=async()=>{this.once("same-url").then(async e=>{await this.wrap(),setTimeout(()=>{t.pause(),this.emit("controller-initialized")},0)}),await this.emit("controller-ready",{videoURL:this.videoURL})};let n=0;t.addEventListener("timeupdate",async function e(){n<3?n++:(t.removeEventListener("timeupdate",e),i())})}async setupTabMediaListeners(e){const t=1e9*Math.random()|0;return window.addEventListener(`after-tab-media-fetch:${t}`,()=>{const{location:{origin:e,pathname:t}}=window,i=`/${t.slice(1).split("/")[0]}`;window.location.href=`${e}${i}`}),t}doVideoURLsMatch(e,t){const{videoURL:i}=e,{videoURL:n}=t;try{const e=new URI(i),t=new URI(n),s=e.path().split("/"),a=t.path().split("/");return s.slice(s.length-2).join("/")===a.slice(a.length-2).join("/")}catch(e){return i===n}}};window.registerGenericFallbackModule(i)})();