window.mpdParser=function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=13)}([function(t,e,r){"use strict";function n(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var i=n(r(7)),o=n(r(1));t.exports=function(t,e){return/^[a-z]+:/i.test(e)?e:(/\/\//i.test(t)||(t=i.buildAbsoluteURL(o.location&&o.location.href||"",t)),i.buildAbsoluteURL(t,e))}},function(t,e,r){(function(e){var r;r="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},t.exports=r}).call(this,r(2))},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e){function r(t,e){for(var r in t)e[r]=t[r]}function n(t,e){var n=t.prototype;if(Object.create){var i=Object.create(e.prototype);n.__proto__=i}if(!(n instanceof e)){function o(){}o.prototype=e.prototype,r(n,o=new o),t.prototype=n=o}n.constructor!=t&&("function"!=typeof t&&console.error("unknow Class:"+t),n.constructor=t)}var i={},o=i.ELEMENT_NODE=1,a=i.ATTRIBUTE_NODE=2,s=i.TEXT_NODE=3,u=i.CDATA_SECTION_NODE=4,c=i.ENTITY_REFERENCE_NODE=5,l=i.ENTITY_NODE=6,f=i.PROCESSING_INSTRUCTION_NODE=7,h=i.COMMENT_NODE=8,p=i.DOCUMENT_NODE=9,d=i.DOCUMENT_TYPE_NODE=10,m=i.DOCUMENT_FRAGMENT_NODE=11,g=i.NOTATION_NODE=12,w={},y={},b=(w.INDEX_SIZE_ERR=(y[1]="Index size error",1),w.DOMSTRING_SIZE_ERR=(y[2]="DOMString size error",2),w.HIERARCHY_REQUEST_ERR=(y[3]="Hierarchy request error",3)),v=(w.WRONG_DOCUMENT_ERR=(y[4]="Wrong document",4),w.INVALID_CHARACTER_ERR=(y[5]="Invalid character",5),w.NO_DATA_ALLOWED_ERR=(y[6]="No data allowed",6),w.NO_MODIFICATION_ALLOWED_ERR=(y[7]="No modification allowed",7),w.NOT_FOUND_ERR=(y[8]="Not found",8)),E=(w.NOT_SUPPORTED_ERR=(y[9]="Not supported",9),w.INUSE_ATTRIBUTE_ERR=(y[10]="Attribute in use",10));function N(t,e){if(e instanceof Error)var r=e;else r=this,Error.call(this,y[t]),this.message=y[t],Error.captureStackTrace&&Error.captureStackTrace(this,N);return r.code=t,e&&(this.message=this.message+": "+e),r}function A(){}function T(t,e){this._node=t,this._refresh=e,D(this)}function D(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!=e){var n=t._refresh(t._node);et(t,"length",n.length),r(n,t),t._inc=e}}function R(){}function x(t,e){for(var r=t.length;r--;)if(t[r]===e)return r}function S(t,e,r,n){if(n?e[x(e,n)]=r:e[e.length++]=r,t){r.ownerElement=t;var i=t.ownerDocument;i&&(n&&L(i,t,n),function(t,e,r){i&&i._inc++,"http://www.w3.org/2000/xmlns/"==r.namespaceURI&&(e._nsMap[r.prefix?r.localName:""]=r.value)}(0,t,r))}}function _(t,e,r){var n=x(e,r);if(!(n>=0))throw N(v,new Error(t.tagName+"@"+r));for(var i=e.length-1;n<i;)e[n]=e[++n];if(e.length=i,t){var o=t.ownerDocument;o&&(L(o,t,r),r.ownerElement=null)}}function I(t){if(this._features={},t)for(var e in t)this._features=t[e]}function U(){}function C(t){return("<"==t?"&lt;":">"==t&&"&gt;")||"&"==t&&"&amp;"||'"'==t&&"&quot;"||"&#"+t.charCodeAt()+";"}function P(t,e){if(e(t))return!0;if(t=t.firstChild)do{if(P(t,e))return!0}while(t=t.nextSibling)}function O(){}function L(t,e,r,n){t&&t._inc++,"http://www.w3.org/2000/xmlns/"==r.namespaceURI&&delete e._nsMap[r.prefix?r.localName:""]}function M(t,e,r){if(t&&t._inc){t._inc++;var n=e.childNodes;if(r)n[n.length++]=r;else{for(var i=e.firstChild,o=0;i;)n[o++]=i,i=i.nextSibling;n.length=o}}}function B(t,e){var r=e.previousSibling,n=e.nextSibling;return r?r.nextSibling=n:t.firstChild=n,n?n.previousSibling=r:t.lastChild=r,M(t.ownerDocument,t),e}function F(t,e,r){var n=e.parentNode;if(n&&n.removeChild(e),e.nodeType===m){var i=e.firstChild;if(null==i)return e;var o=e.lastChild}else i=o=e;var a=r?r.previousSibling:t.lastChild;i.previousSibling=a,o.nextSibling=r,a?a.nextSibling=i:t.firstChild=i,null==r?t.lastChild=o:r.previousSibling=o;do{i.parentNode=t}while(i!==o&&(i=i.nextSibling));return M(t.ownerDocument||t,t),e.nodeType==m&&(e.firstChild=e.lastChild=null),e}function Y(){this._nsMap={}}function k(){}function z(){}function $(){}function j(){}function q(){}function V(){}function H(){}function X(){}function G(){}function W(){}function Z(){}function Q(){}function J(t,e){var r=[],n=9==this.nodeType?this.documentElement:this,i=n.prefix,o=n.namespaceURI;if(o&&null==i&&null==(i=n.lookupPrefix(o)))var a=[{namespace:o,prefix:null}];return tt(this,r,t,e,a),r.join("")}function K(t,e,r){var n=t.prefix||"",i=t.namespaceURI;if(!n&&!i)return!1;if("xml"===n&&"http://www.w3.org/XML/1998/namespace"===i||"http://www.w3.org/2000/xmlns/"==i)return!1;for(var o=r.length;o--;){var a=r[o];if(a.prefix==n)return a.namespace!=i}return!0}function tt(t,e,r,n,i){if(n){if(!(t=n(t)))return;if("string"==typeof t)return void e.push(t)}switch(t.nodeType){case o:i||(i=[]),i.length;var l=t.attributes,g=l.length,w=t.firstChild,y=t.tagName;r="http://www.w3.org/1999/xhtml"===t.namespaceURI||r,e.push("<",y);for(var b=0;b<g;b++)"xmlns"==(v=l.item(b)).prefix?i.push({prefix:v.localName,namespace:v.value}):"xmlns"==v.nodeName&&i.push({prefix:"",namespace:v.value});for(b=0;b<g;b++){var v;if(K(v=l.item(b),0,i)){var E=v.prefix||"",N=v.namespaceURI,A=E?" xmlns:"+E:" xmlns";e.push(A,'="',N,'"'),i.push({prefix:E,namespace:N})}tt(v,e,r,n,i)}if(K(t,0,i)&&(E=t.prefix||"",N=t.namespaceURI,A=E?" xmlns:"+E:" xmlns",e.push(A,'="',N,'"'),i.push({prefix:E,namespace:N})),w||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(y)){if(e.push(">"),r&&/^script$/i.test(y))for(;w;)w.data?e.push(w.data):tt(w,e,r,n,i),w=w.nextSibling;else for(;w;)tt(w,e,r,n,i),w=w.nextSibling;e.push("</",y,">")}else e.push("/>");return;case p:case m:for(w=t.firstChild;w;)tt(w,e,r,n,i),w=w.nextSibling;return;case a:return e.push(" ",t.name,'="',t.value.replace(/[<&"]/g,C),'"');case s:return e.push(t.data.replace(/[<&]/g,C));case u:return e.push("<![CDATA[",t.data,"]]>");case h:return e.push("\x3c!--",t.data,"--\x3e");case d:var T=t.publicId,D=t.systemId;if(e.push("<!DOCTYPE ",t.name),T)e.push(' PUBLIC "',T),D&&"."!=D&&e.push('" "',D),e.push('">');else if(D&&"."!=D)e.push(' SYSTEM "',D,'">');else{var R=t.internalSubset;R&&e.push(" [",R,"]"),e.push(">")}return;case f:return e.push("<?",t.target," ",t.data,"?>");case c:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function et(t,e,r){t[e]=r}w.INVALID_STATE_ERR=(y[11]="Invalid state",11),w.SYNTAX_ERR=(y[12]="Syntax error",12),w.INVALID_MODIFICATION_ERR=(y[13]="Invalid modification",13),w.NAMESPACE_ERR=(y[14]="Invalid namespace",14),w.INVALID_ACCESS_ERR=(y[15]="Invalid access",15),N.prototype=Error.prototype,r(w,N),A.prototype={length:0,item:function(t){return this[t]||null},toString:function(t,e){for(var r=[],n=0;n<this.length;n++)tt(this[n],r,t,e);return r.join("")}},T.prototype.item=function(t){return D(this),this[t]},n(T,A),R.prototype={length:0,item:A.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var r=this[e];if(r.nodeName==t)return r}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new N(E);var r=this.getNamedItem(t.nodeName);return S(this._ownerElement,this,t,r),r},setNamedItemNS:function(t){var e,r=t.ownerElement;if(r&&r!=this._ownerElement)throw new N(E);return e=this.getNamedItemNS(t.namespaceURI,t.localName),S(this._ownerElement,this,t,e),e},removeNamedItem:function(t){var e=this.getNamedItem(t);return _(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var r=this.getNamedItemNS(t,e);return _(this._ownerElement,this,r),r},getNamedItemNS:function(t,e){for(var r=this.length;r--;){var n=this[r];if(n.localName==e&&n.namespaceURI==t)return n}return null}},I.prototype={hasFeature:function(t,e){var r=this._features[t.toLowerCase()];return!(!r||e&&!(e in r))},createDocument:function(t,e,r){var n=new O;if(n.implementation=this,n.childNodes=new A,n.doctype=r,r&&n.appendChild(r),e){var i=n.createElementNS(t,e);n.appendChild(i)}return n},createDocumentType:function(t,e,r){var n=new V;return n.name=t,n.nodeName=t,n.publicId=e,n.systemId=r,n}},U.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return F(this,t,e)},replaceChild:function(t,e){this.insertBefore(t,e),e&&this.removeChild(e)},removeChild:function(t){return B(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(t){return function t(e,r,n){var i=new r.constructor;for(var s in r){var u=r[s];"object"!=typeof u&&u!=i[s]&&(i[s]=u)}switch(r.childNodes&&(i.childNodes=new A),i.ownerDocument=e,i.nodeType){case o:var c=r.attributes,l=i.attributes=new R,f=c.length;l._ownerElement=i;for(var h=0;h<f;h++)i.setAttributeNode(t(e,c.item(h),!0));break;case a:n=!0}if(n)for(var p=r.firstChild;p;)i.appendChild(t(e,p,n)),p=p.nextSibling;return i}(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==s&&t.nodeType==s?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var r=e._nsMap;if(r)for(var n in r)if(r[n]==t)return n;e=e.nodeType==a?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var r=e._nsMap;if(r&&t in r)return r[t];e=e.nodeType==a?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){return null==this.lookupPrefix(t)}},r(i,U),r(i,U.prototype),O.prototype={nodeName:"#document",nodeType:p,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==m){for(var r=t.firstChild;r;){var n=r.nextSibling;this.insertBefore(r,e),r=n}return t}return null==this.documentElement&&t.nodeType==o&&(this.documentElement=t),F(this,t,e),t.ownerDocument=this,t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),B(this,t)},importNode:function(t,e){return function t(e,r,n){var i;switch(r.nodeType){case o:(i=r.cloneNode(!1)).ownerDocument=e;case m:break;case a:n=!0}if(i||(i=r.cloneNode(!1)),i.ownerDocument=e,i.parentNode=null,n)for(var s=r.firstChild;s;)i.appendChild(t(e,s,n)),s=s.nextSibling;return i}(this,t,e)},getElementById:function(t){var e=null;return P(this.documentElement,function(r){if(r.nodeType==o&&r.getAttribute("id")==t)return e=r,!0}),e},createElement:function(t){var e=new Y;return e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.childNodes=new A,(e.attributes=new R)._ownerElement=e,e},createDocumentFragment:function(){var t=new W;return t.ownerDocument=this,t.childNodes=new A,t},createTextNode:function(t){var e=new $;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new j;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new q;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var r=new Z;return r.ownerDocument=this,r.tagName=r.target=t,r.nodeValue=r.data=e,r},createAttribute:function(t){var e=new k;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new G;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var r=new Y,n=e.split(":"),i=r.attributes=new R;return r.childNodes=new A,r.ownerDocument=this,r.nodeName=e,r.tagName=e,r.namespaceURI=t,2==n.length?(r.prefix=n[0],r.localName=n[1]):r.localName=e,i._ownerElement=r,r},createAttributeNS:function(t,e){var r=new k,n=e.split(":");return r.ownerDocument=this,r.nodeName=e,r.name=e,r.namespaceURI=t,r.specified=!0,2==n.length?(r.prefix=n[0],r.localName=n[1]):r.localName=e,r}},n(O,U),Y.prototype={nodeType:o,hasAttribute:function(t){return null!=this.getAttributeNode(t)},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var r=this.ownerDocument.createAttribute(t);r.value=r.nodeValue=""+e,this.setAttributeNode(r)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===m?this.insertBefore(t,null):function(t,e){var r=e.parentNode;if(r){var n=t.lastChild;r.removeChild(e),n=t.lastChild}return n=t.lastChild,e.parentNode=t,e.previousSibling=n,e.nextSibling=null,n?n.nextSibling=e:t.firstChild=e,t.lastChild=e,M(t.ownerDocument,t,e),e}(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);r&&this.removeAttributeNode(r)},hasAttributeNS:function(t,e){return null!=this.getAttributeNodeNS(t,e)},getAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);return r&&r.value||""},setAttributeNS:function(t,e,r){var n=this.ownerDocument.createAttributeNS(t,e);n.value=n.nodeValue=""+r,this.setAttributeNode(n)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new T(this,function(e){var r=[];return P(e,function(n){n===e||n.nodeType!=o||"*"!==t&&n.tagName!=t||r.push(n)}),r})},getElementsByTagNameNS:function(t,e){return new T(this,function(r){var n=[];return P(r,function(i){i===r||i.nodeType!==o||"*"!==t&&i.namespaceURI!==t||"*"!==e&&i.localName!=e||n.push(i)}),n})}},O.prototype.getElementsByTagName=Y.prototype.getElementsByTagName,O.prototype.getElementsByTagNameNS=Y.prototype.getElementsByTagNameNS,n(Y,U),k.prototype.nodeType=a,n(k,U),z.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(y[b])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,r){r=this.data.substring(0,t)+r+this.data.substring(t+e),this.nodeValue=this.data=r,this.length=r.length}},n(z,U),$.prototype={nodeName:"#text",nodeType:s,splitText:function(t){var e=this.data,r=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var n=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}},n($,z),j.prototype={nodeName:"#comment",nodeType:h},n(j,z),q.prototype={nodeName:"#cdata-section",nodeType:u},n(q,z),V.prototype.nodeType=d,n(V,U),H.prototype.nodeType=g,n(H,U),X.prototype.nodeType=l,n(X,U),G.prototype.nodeType=c,n(G,U),W.prototype.nodeName="#document-fragment",W.prototype.nodeType=m,n(W,U),Z.prototype.nodeType=f,n(Z,U),Q.prototype.serializeToString=function(t,e,r){return J.call(t,e,r)},U.prototype.toString=J;try{Object.defineProperty&&(Object.defineProperty(T.prototype,"length",{get:function(){return D(this),this.$$length}}),Object.defineProperty(U.prototype,"textContent",{get:function(){return function t(e){switch(e.nodeType){case o:case m:var r=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&r.push(t(e)),e=e.nextSibling;return r.join("");default:return e.nodeValue}}(this)},set:function(t){switch(this.nodeType){case o:case m:for(;this.firstChild;)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=t,this.nodeValue=t}}}),et=function(t,e,r){t["$$"+e]=r})}catch(t){}e.DOMImplementation=I,e.XMLSerializer=Q},function(t){t.exports=JSON.parse('{"a":"0.10.1"}')},function(t,e,r){"use strict";(function(e){var n,i=(n=r(1))&&"object"==typeof n&&"default"in n?n.default:n;t.exports=function(t){for(var r,n=(r=t,i.atob?i.atob(r):e.from(r,"base64").toString("binary")),o=new Uint8Array(n.length),a=0;a<n.length;a++)o[a]=n.charCodeAt(a);return o}}).call(this,r(8).Buffer)},function(t,e,r){function n(t){this.options=t||{locator:{}}}function i(){this.cdata=!1}function o(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}function a(t){if(t)return"\n@"+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function s(t,e,r){return"string"==typeof t?t.substr(e,r):t.length>=e+r||e?new java.lang.String(t,e,r)+"":t}function u(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}n.prototype.parseFromString=function(t,e){var r=this.options,n=new c,o=r.domBuilder||new i,s=r.errorHandler,u=r.locator,l=r.xmlns||{},f={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return u&&o.setDocumentLocator(u),n.errorHandler=function(t,e,r){if(!t){if(e instanceof i)return e;t=e}var n={},o=t instanceof Function;function s(e){var i=t[e];!i&&o&&(i=2==t.length?function(r){t(e,r)}:t),n[e]=i&&function(t){i("[xmldom "+e+"]\t"+t+a(r))}||function(){}}return r=r||{},s("warning"),s("error"),s("fatalError"),n}(s,o,u),n.domBuilder=r.domBuilder||o,/\/x?html?$/.test(e)&&(f.nbsp=" ",f.copy="©",l[""]="http://www.w3.org/1999/xhtml"),l.xml=l.xml||"http://www.w3.org/XML/1998/namespace",t?n.parse(t,l,f):n.errorHandler.error("invalid doc source"),o.doc},i.prototype={startDocument:function(){this.doc=(new l).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,r,n){var i=this.doc,a=i.createElementNS(t,r||e),s=n.length;u(this,a),this.currentElement=a,this.locator&&o(this.locator,a);for(var c=0;c<s;c++){t=n.getURI(c);var l=n.getValue(c),f=(r=n.getQName(c),i.createAttributeNS(t,r));this.locator&&o(n.getLocator(c),f),f.value=f.nodeValue=l,a.setAttributeNode(f)}},endElement:function(t,e,r){var n=this.currentElement;n.tagName,this.currentElement=n.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var r=this.doc.createProcessingInstruction(t,e);this.locator&&o(this.locator,r),u(this,r)},ignorableWhitespace:function(t,e,r){},characters:function(t,e,r){if(t=s.apply(this,arguments)){if(this.cdata)var n=this.doc.createCDATASection(t);else n=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(t)&&this.doc.appendChild(n),this.locator&&o(this.locator,n)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,r){t=s.apply(this,arguments);var n=this.doc.createComment(t);this.locator&&o(this.locator,n),u(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,r){var n=this.doc.implementation;if(n&&n.createDocumentType){var i=n.createDocumentType(t,e,r);this.locator&&o(this.locator,i),u(this,i)}},warning:function(t){console.warn("[xmldom warning]\t"+t,a(this.locator))},error:function(t){console.error("[xmldom error]\t"+t,a(this.locator))},fatalError:function(t){throw console.error("[xmldom fatalError]\t"+t,a(this.locator)),t}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){i.prototype[t]=function(){return null}});var c=r(12).XMLReader,l=e.DOMImplementation=r(3).DOMImplementation;e.XMLSerializer=r(3).XMLSerializer,e.DOMParser=n},function(t,e,r){var n,i,o,a,s;n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#.*)?$/,i=/^([^\/?#]*)(.*)$/,o=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,s={buildAbsoluteURL:function(t,e,r){if(r=r||{},t=t.trim(),!(e=e.trim())){if(!r.alwaysNormalize)return t;var n=s.parseURL(t);if(!n)throw new Error("Error trying to parse base URL.");return n.path=s.normalizePath(n.path),s.buildURLFromParts(n)}var o=s.parseURL(e);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return r.alwaysNormalize?(o.path=s.normalizePath(o.path),s.buildURLFromParts(o)):e;var a=s.parseURL(t);if(!a)throw new Error("Error trying to parse base URL.");if(!a.netLoc&&a.path&&"/"!==a.path[0]){var u=i.exec(a.path);a.netLoc=u[1],a.path=u[2]}a.netLoc&&!a.path&&(a.path="/");var c={scheme:a.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(c.netLoc=a.netLoc,"/"!==o.path[0]))if(o.path){var l=a.path,f=l.substring(0,l.lastIndexOf("/")+1)+o.path;c.path=s.normalizePath(f)}else c.path=a.path,o.params||(c.params=a.params,o.query||(c.query=a.query));return null===c.path&&(c.path=r.alwaysNormalize?s.normalizePath(o.path):o.path),s.buildURLFromParts(c)},parseURL:function(t){var e=n.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(o,"");t.length!==(t=t.replace(a,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}},t.exports=s},function(t,e,r){"use strict";(function(t){var n=r(9),i=r(10),o=r(11);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}return c(this,t,e,r)}function c(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n),u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=h(t,e),t}(t,e,r,n):"string"==typeof e?function(t,e,r){if("string"==typeof r&&""!==r||(r="utf8"),!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|d(e,r),i=(t=s(t,n)).write(e,r);return i!==n&&(t=t.slice(0,i)),t}(t,e,r):function(t,e){if(u.isBuffer(e)){var r=0|p(e.length);return 0===(t=s(t,r)).length||e.copy(t,0,0,r),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?s(t,0):h(t,e);if("Buffer"===e.type&&o(e.data))return h(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function f(t,e){if(l(e),t=s(t,e<0?0:0|p(e)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function h(t,e){var r=e.length<0?0:0|p(e.length);t=s(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function p(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function d(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return Y(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return k(t).length;default:if(n)return Y(t).length;e=(""+e).toLowerCase(),n=!0}}function m(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function g(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=u.from(e,n)),u.isBuffer(e))return 0===e.length?-1:w(t,e,r,n,i);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):w(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function w(t,e,r,n,i){var o,a=1,s=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,r/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var l=-1;for(o=r;o<s;o++)if(c(t,o)===c(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){for(var f=!0,h=0;h<u;h++)if(c(t,o+h)!==c(e,h)){f=!1;break}if(f)return o}return-1}function y(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[r+a]=s}return a}function b(t,e,r,n){return z(Y(e,t.length-r),t,r,n)}function v(t,e,r,n){return z(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function E(t,e,r,n){return v(t,e,r,n)}function N(t,e,r,n){return z(k(e),t,r,n)}function A(t,e,r,n){return z(function(t,e){for(var r,n,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=(r=t.charCodeAt(a))>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function T(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function D(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,a,s,u,c=t[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=r)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=f}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=4096));return r}(n)}function R(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function x(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function S(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=F(t[o]);return i}function _(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function I(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function U(t,e,r,n,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function C(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function P(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function O(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function L(t,e,r,n,o){return o||O(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function M(t,e,r,n,o){return o||O(t,0,r,8),i.write(t,e,r,n,52,8),r+8}e.Buffer=u,e.SlowBuffer=function(t){return+t!=t&&(t=0),u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,r){return c(null,t,e,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,r){return function(t,e,r,n){return l(e),e<=0?s(t,e):void 0!==r?"string"==typeof n?s(t,e).fill(r,n):s(t,e).fill(r):s(t,e)}(null,t,e,r)},u.allocUnsafe=function(t){return f(null,t)},u.allocUnsafeSlow=function(t){return f(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=u.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var a=t[r];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?D(this,0,t):function(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return S(this,e,r);case"utf8":case"utf-8":return D(this,e,r);case"ascii":return R(this,e,r);case"latin1":case"binary":return x(this,e,r);case"base64":return T(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,r,n,i){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(e>>>=0),s=Math.min(o,a),c=this.slice(n,i),l=t.slice(e,r),f=0;f<s;++f)if(c[f]!==l[f]){o=c[f],a=l[f];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},u.prototype.indexOf=function(t,e,r){return g(this,t,e,r,!0)},u.prototype.lastIndexOf=function(t,e,r){return g(this,t,e,r,!1)},u.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return y(this,t,e,r);case"utf8":case"utf-8":return b(this,t,e,r);case"ascii":return v(this,t,e,r);case"latin1":case"binary":return E(this,t,e,r);case"base64":return N(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},u.prototype.slice=function(t,e){var r,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=u.prototype;else{var i=e-t;r=new u(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+t]}return r},u.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||I(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n},u.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||I(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},u.prototype.readUInt8=function(t,e){return e||I(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||I(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||I(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||I(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||I(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||I(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},u.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||I(t,e,this.length);for(var n=e,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||I(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||I(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(t,e){e||I(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(t,e){return e||I(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||I(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||I(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||I(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||I(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||I(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,r,n){t=+t,e|=0,r|=0,n||U(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},u.prototype.writeUIntBE=function(t,e,r,n){t=+t,e|=0,r|=0,n||U(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},u.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||U(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||U(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):C(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||U(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):C(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||U(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):P(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||U(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):P(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);U(this,t,e,r,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<r&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+r},u.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);U(this,t,e,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+r},u.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||U(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||U(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):C(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||U(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):C(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||U(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):P(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||U(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):P(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,r){return L(this,t,e,!0,r)},u.prototype.writeFloatBE=function(t,e,r){return L(this,t,e,!1,r)},u.prototype.writeDoubleLE=function(t,e,r){return M(this,t,e,!0,r)},u.prototype.writeDoubleBE=function(t,e,r){return M(this,t,e,!1,r)},u.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,o=n-r;if(this===t&&r<e&&e<n)for(i=o-1;i>=0;--i)t[i+e]=this[i+r];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+o),e);return o},u.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(o=e;o<r;++o)this[o]=t;else{var a=u.isBuffer(t)?t:Y(new u(t,n).toString()),s=a.length;for(o=0;o<r-e;++o)this[o+e]=a[o%s]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function F(t){return t<16?"0"+t.toString(16):t.toString(16)}function Y(t,e){var r;e=e||1/0;for(var n=t.length,i=null,o=[],a=0;a<n;++a){if((r=t.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function k(t){return n.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(B,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function z(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}}).call(this,r(2))},function(t,e,r){"use strict";e.byteLength=function(t){var e=c(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,n=c(t),a=n[0],s=n[1],u=new o(3*(a+s)/4-s),l=0,f=s>0?a-4:a;for(r=0;r<f;r+=4)e=i[t.charCodeAt(r)]<<18|i[t.charCodeAt(r+1)]<<12|i[t.charCodeAt(r+2)]<<6|i[t.charCodeAt(r+3)],u[l++]=e>>16&255,u[l++]=e>>8&255,u[l++]=255&e;return 2===s&&(e=i[t.charCodeAt(r)]<<2|i[t.charCodeAt(r+1)]>>4,u[l++]=255&e),1===s&&(e=i[t.charCodeAt(r)]<<10|i[t.charCodeAt(r+1)]<<4|i[t.charCodeAt(r+2)]>>2,u[l++]=e>>8&255,u[l++]=255&e),u},e.fromByteArray=function(t){for(var e,r=t.length,i=r%3,o=[],a=0,s=r-i;a<s;a+=16383)o.push(l(t,a,a+16383>s?s:a+16383));return 1===i?(e=t[r-1],o.push(n[e>>2]+n[e<<4&63]+"==")):2===i&&(e=(t[r-2]<<8)+t[r-1],o.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"=")),o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)n[s]=a[s],i[a.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function l(t,e,r){for(var i,o,a=[],s=e;s<r;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,c=u>>1,l=-7,f=r?i-1:0,h=r?-1:1,p=t[e+f];for(f+=h,o=p&(1<<-l)-1,p>>=-l,l+=s;l>0;o=256*o+t[e+f],f+=h,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=n;l>0;a=256*a+t[e+f],f+=h,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),o-=c}return(p?-1:1)*a*Math.pow(2,o-n)},e.write=function(t,e,r,n,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,d=n?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(e*u-1)*Math.pow(2,i),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[r+p]=255&s,p+=d,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;t[r+p]=255&a,p+=d,a/=256,c-=8);t[r+p-d]|=128*m}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e){var r=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,n=new RegExp("[\\-\\.0-9"+r.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),i=new RegExp("^"+r.source+n.source+"*(?::"+r.source+n.source+"*)?$");function o(){}function a(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function s(t,e,r,n,i,o){for(var a,s=++e,u=0;;){var c=t.charAt(s);switch(c){case"=":if(1===u)a=t.slice(e,s),u=3;else{if(2!==u)throw new Error("attribute equal must after attrName");u=3}break;case"'":case'"':if(3===u||1===u){if(1===u&&(o.warning('attribute value must after "="'),a=t.slice(e,s)),e=s+1,!((s=t.indexOf(c,e))>0))throw new Error("attribute value no end '"+c+"' match");l=t.slice(e,s).replace(/&#?\w+;/g,i),r.add(a,l,e-1),u=5}else{if(4!=u)throw new Error('attribute value must after "="');l=t.slice(e,s).replace(/&#?\w+;/g,i),r.add(a,l,e),o.warning('attribute "'+a+'" missed start quot('+c+")!!"),e=s+1,u=5}break;case"/":switch(u){case 0:r.setTagName(t.slice(e,s));case 5:case 6:case 7:u=7,r.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return o.error("unexpected end of input"),0==u&&r.setTagName(t.slice(e,s)),s;case">":switch(u){case 0:r.setTagName(t.slice(e,s));case 5:case 6:case 7:break;case 4:case 1:"/"===(l=t.slice(e,s)).slice(-1)&&(r.closed=!0,l=l.slice(0,-1));case 2:2===u&&(l=a),4==u?(o.warning('attribute "'+l+'" missed quot(")!!'),r.add(a,l.replace(/&#?\w+;/g,i),e)):("http://www.w3.org/1999/xhtml"===n[""]&&l.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),r.add(l,l,e));break;case 3:throw new Error("attribute value missed!!")}return s;case"":c=" ";default:if(c<=" ")switch(u){case 0:r.setTagName(t.slice(e,s)),u=6;break;case 1:a=t.slice(e,s),u=2;break;case 4:var l=t.slice(e,s).replace(/&#?\w+;/g,i);o.warning('attribute "'+l+'" missed quot(")!!'),r.add(a,l,e);case 5:u=6}else switch(u){case 2:r.tagName,"http://www.w3.org/1999/xhtml"===n[""]&&a.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+a+'" missed value!! "'+a+'" instead2!!'),r.add(a,a,e),e=s,u=1;break;case 5:o.warning('attribute space is required"'+a+'"!!');case 6:u=1,e=s;break;case 3:u=4,e=s;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}s++}}function u(t,e,r){for(var n=t.tagName,i=null,o=t.length;o--;){var a=t[o],s=a.qName,u=a.value;if((p=s.indexOf(":"))>0)var c=a.prefix=s.slice(0,p),l=s.slice(p+1),h="xmlns"===c&&l;else l=s,c=null,h="xmlns"===s&&"";a.localName=l,!1!==h&&(null==i&&(i={},f(r,r={})),r[h]=i[h]=u,a.uri="http://www.w3.org/2000/xmlns/",e.startPrefixMapping(h,u))}for(o=t.length;o--;)(c=(a=t[o]).prefix)&&("xml"===c&&(a.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==c&&(a.uri=r[c||""]));var p;(p=n.indexOf(":"))>0?(c=t.prefix=n.slice(0,p),l=t.localName=n.slice(p+1)):(c=null,l=t.localName=n);var d=t.uri=r[c||""];if(e.startElement(d,l,n,t),!t.closed)return t.currentNSMap=r,t.localNSMap=i,!0;if(e.endElement(d,l,n),i)for(c in i)e.endPrefixMapping(c)}function c(t,e,r,n,i){if(/^(?:script|textarea)$/i.test(r)){var o=t.indexOf("</"+r+">",e),a=t.substring(e+1,o);if(/[&<]/.test(a))return/^script$/i.test(r)?(i.characters(a,0,a.length),o):(a=a.replace(/&#?\w+;/g,n),i.characters(a,0,a.length),o)}return e+1}function l(t,e,r,n){var i=n[r];return null==i&&((i=t.lastIndexOf("</"+r+">"))<e&&(i=t.lastIndexOf("</"+r)),n[r]=i),i<e}function f(t,e){for(var r in t)e[r]=t[r]}function h(t,e,r,n){switch(t.charAt(e+2)){case"-":return"-"===t.charAt(e+3)?(i=t.indexOf("--\x3e",e+4))>e?(r.comment(t,e+4,i-e-4),i+3):(n.error("Unclosed comment"),-1):-1;default:if("CDATA["==t.substr(e+3,6)){var i=t.indexOf("]]>",e+9);return r.startCDATA(),r.characters(t,e+9,i-e-9),r.endCDATA(),i+3}var o=function(t,e){var r,n=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=e,i.exec(t);r=i.exec(t);)if(n.push(r),r[1])return n}(t,e),a=o.length;if(a>1&&/!doctype/i.test(o[0][0])){var s=o[1][0],u=a>3&&/^public$/i.test(o[2][0])&&o[3][0],c=a>4&&o[4][0],l=o[a-1];return r.startDTD(s,u&&u.replace(/^(['"])(.*?)\1$/,"$2"),c&&c.replace(/^(['"])(.*?)\1$/,"$2")),r.endDTD(),l.index+l[0].length}}return-1}function p(t,e,r){var n=t.indexOf("?>",e);if(n){var i=t.substring(e,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return i?(i[0].length,r.processingInstruction(i[1],i[2]),n+2):-1}return-1}function d(t){}function m(t,e){return t.__proto__=e,t}o.prototype={parse:function(t,e,r){var n=this.domBuilder;n.startDocument(),f(e,e={}),function(t,e,r,n,i){function o(t){var e=t.slice(1,-1);return e in r?r[e]:"#"===e.charAt(0)?function(t){if(t>65535){var e=55296+((t-=65536)>>10),r=56320+(1023&t);return String.fromCharCode(e,r)}return String.fromCharCode(t)}(parseInt(e.substr(1).replace("x","0x"))):(i.error("entity not found:"+t),t)}function f(e){if(e>N){var r=t.substring(N,e).replace(/&#?\w+;/g,o);b&&m(N),n.characters(r,0,e-N),N=e}}function m(e,r){for(;e>=w&&(r=y.exec(t));)g=r.index,w=g+r[0].length,b.lineNumber++;b.columnNumber=e-g+1}for(var g=0,w=0,y=/.*(?:\r\n?|\n)|.*$/g,b=n.locator,v=[{currentNSMap:e}],E={},N=0;;){try{var A=t.indexOf("<",N);if(A<0){if(!t.substr(N).match(/^\s*$/)){var T=n.doc,D=T.createTextNode(t.substr(N));T.appendChild(D),n.currentElement=D}return}switch(A>N&&f(A),t.charAt(A+1)){case"/":var R=t.indexOf(">",A+3),x=t.substring(A+2,R),S=v.pop();R<0?(x=t.substring(A+2).replace(/[\s<].*/,""),i.error("end tag name: "+x+" is not complete:"+S.tagName),R=A+1+x.length):x.match(/\s</)&&(x=x.replace(/[\s<].*/,""),i.error("end tag name: "+x+" maybe not complete"),R=A+1+x.length);var _=S.localNSMap,I=S.tagName==x;if(I||S.tagName&&S.tagName.toLowerCase()==x.toLowerCase()){if(n.endElement(S.uri,S.localName,x),_)for(var U in _)n.endPrefixMapping(U);I||i.fatalError("end tag name: "+x+" is not match the current start tagName:"+S.tagName)}else v.push(S);R++;break;case"?":b&&m(A),R=p(t,A,n);break;case"!":b&&m(A),R=h(t,A,n,i);break;default:b&&m(A);var C=new d,P=v[v.length-1].currentNSMap,O=(R=s(t,A,C,P,o,i),C.length);if(!C.closed&&l(t,R,C.tagName,E)&&(C.closed=!0,r.nbsp||i.warning("unclosed xml attribute")),b&&O){for(var L=a(b,{}),M=0;M<O;M++){var B=C[M];m(B.offset),B.locator=a(b,{})}n.locator=L,u(C,n,P)&&v.push(C),n.locator=b}else u(C,n,P)&&v.push(C);"http://www.w3.org/1999/xhtml"!==C.uri||C.closed?R++:R=c(t,R,C.tagName,o,n)}}catch(t){i.error("element parse error: "+t),R=-1}R>N?N=R:f(Math.max(A,N)+1)}}(t,e,r,n,this.errorHandler),n.endDocument()}},d.prototype={setTagName:function(t){if(!i.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},add:function(t,e,r){if(!i.test(t))throw new Error("invalid attribute:"+t);this[this.length++]={qName:t,value:e,offset:r}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}},m({},m.prototype)instanceof m||(m=function(t,e){function r(){}for(e in r.prototype=e,r=new r,t)r[e]=t[e];return r}),e.XMLReader=o},function(t,e,r){"use strict";r.r(e),r.d(e,"VERSION",function(){return V}),r.d(e,"parse",function(){return H}),r.d(e,"parseUTCTiming",function(){return X}),r.d(e,"stringToMpdXml",function(){return q}),r.d(e,"inheritAttributes",function(){return $}),r.d(e,"toPlaylists",function(){return _}),r.d(e,"toM3u8",function(){return E});var n=r(4);const i=t=>!!t&&"object"==typeof t,o=(...t)=>t.reduce((t,e)=>(Object.keys(e).forEach(r=>{Array.isArray(t[r])&&Array.isArray(e[r])?t[r]=t[r].concat(e[r]):i(t[r])&&i(e[r])?t[r]=o(t[r],e[r]):t[r]=e[r]}),t),{}),a=t=>t.reduce((t,e)=>t.concat(e),[]),s=t=>{if(!t.length)return[];const e=[];for(let r=0;r<t.length;r++)e.push(t[r]);return e};var u=r(0),c=r.n(u);const l=t=>{const e=t.offset+t.length-1;return`${t.offset}-${e}`};var f=({baseUrl:t="",source:e="",range:r="",indexRange:n=""})=>{const i={uri:e,resolvedUri:c()(t||"",e)};if(r||n){const t=(r||n).split("-"),e=parseInt(t[0],10),o=parseInt(t[1],10);i.byterange={length:o-e+1,offset:e}}return i};const h={static(t){const{duration:e,timescale:r=1,sourceDuration:n}=t;return{start:0,end:Math.ceil(n/(e/r))}},dynamic(t){const{NOW:e,clientOffset:r,availabilityStartTime:n,timescale:i=1,duration:o,start:a=0,minimumUpdatePeriod:s=0,timeShiftBufferDepth:u=1/0}=t,c=(e+r)/1e3,l=n+a,f=c+s-l,h=Math.ceil(f*i/o),p=Math.floor((c-l-u)*i/o),d=Math.floor((c-l)*i/o);return{start:Math.max(0,p),end:Math.min(h,d)}}},p=t=>{const{type:e="static",duration:r,timescale:n=1,sourceDuration:i}=t,{start:o,end:a}=h[e](t),s=((t,e)=>{const r=[];for(let t=o;t<e;t++)r.push(t);return r})(0,a).map((t=>(e,r)=>{const{duration:n,timescale:i=1,periodIndex:o,startNumber:a=1}=t;return{number:a+e,duration:n/i,timeline:o,time:r*n}})(t));if("static"===e){const t=s.length-1;s[t].duration=i-r/n*t}return s},d=t=>{const{baseUrl:e,initialization:r={},sourceDuration:n,indexRange:i="",duration:o}=t;if(!e)throw new Error("NO_BASE_URL");const a=f({baseUrl:e,source:r.sourceURL,range:r.range}),s=f({baseUrl:e,source:e,indexRange:i});if(s.map=a,o){const e=p(t);e.length&&(s.duration=e[0].duration,s.timeline=e[0].timeline)}else n&&(s.duration=n,s.timeline=0);return s.number=0,[s]},m=(t,e,r)=>{const n=t.sidx.map?t.sidx.map:null,i=t.sidx.duration,o=t.timeline||0,a=t.sidx.byterange,s=a.offset+a.length,u=e.timescale,c=e.references.filter(t=>1!==t.referenceType),l=[];let f=s+e.firstOffset;for(let t=0;t<c.length;t++){const a=e.references[t],s=a.referencedSize,c=a.subsegmentDuration,h=d({baseUrl:r,timescale:u,timeline:o,periodIndex:o,duration:c,sourceDuration:i,indexRange:`${f}-${f+s-1}`})[0];n&&(h.map=n),l.push(h),f+=s}return t.segments=l,t},g=t=>{var e;return(e=t.reduce((t,e)=>{const r=e.attributes.id+(e.attributes.lang||"");return t[r]?(e.segments[0]&&(e.segments[0].discontinuity=!0),t[r].segments.push(...e.segments),e.attributes.contentProtection&&(t[r].attributes.contentProtection=e.attributes.contentProtection)):t[r]=e,t},{}),Object.keys(e).map(t=>e[t])).map(t=>{var e;return t.discontinuityStarts=(e=t.segments,"discontinuity",e.reduce((t,e,r)=>(e.discontinuity&&t.push(r),t),[])),t})},w=(t,e={})=>{if(!Object.keys(e).length)return t;for(const r in t){const n=t[r];if(!n.sidx)continue;const i=n.sidx.uri+"-"+l(n.sidx.byterange),o=e[i]&&e[i].sidx;n.sidx&&o&&m(n,o,n.sidx.resolvedUri)}return t},y=({attributes:t,segments:e,sidx:r})=>{const n={attributes:{NAME:t.id,BANDWIDTH:t.bandwidth,CODECS:t.codecs,"PROGRAM-ID":1},uri:"",endList:"static"===(t.type||"static"),timeline:t.periodIndex,resolvedUri:"",targetDuration:t.duration,segments:e,mediaSequence:e.length?e[0].number:1};return t.contentProtection&&(n.contentProtection=t.contentProtection),r&&(n.sidx=r),n},b=({attributes:t,segments:e})=>(void 0===e&&(e=[{uri:t.baseUrl,timeline:t.periodIndex,resolvedUri:t.baseUrl||"",duration:t.sourceDuration,number:0}],t.duration=t.sourceDuration),{attributes:{NAME:t.id,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1},uri:"",endList:"static"===(t.type||"static"),timeline:t.periodIndex,resolvedUri:t.baseUrl||"",targetDuration:t.duration,segments:e,mediaSequence:e.length?e[0].number:1}),v=({attributes:t,segments:e,sidx:r})=>{const n={attributes:{NAME:t.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:t.width,height:t.height},CODECS:t.codecs,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1},uri:"",endList:"static"===(t.type||"static"),timeline:t.periodIndex,resolvedUri:"",targetDuration:t.duration,segments:e,mediaSequence:e.length?e[0].number:1};return t.contentProtection&&(n.contentProtection=t.contentProtection),r&&(n.sidx=r),n},E=(t,e={})=>{if(!t.length)return{};const{sourceDuration:r,type:n="static",suggestedPresentationDelay:i,minimumUpdatePeriod:o=0}=t[0].attributes,a=g(t.filter(({attributes:t})=>"video/mp4"===t.mimeType||"video"===t.contentType)).map(v),s=g(t.filter(({attributes:t})=>"audio/mp4"===t.mimeType||"audio"===t.contentType)),u=t.filter(({attributes:t})=>"text/vtt"===t.mimeType||"text"===t.contentType),c={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:"",duration:r,playlists:w(a,e),minimumUpdatePeriod:1e3*o};return"dynamic"===n&&(c.suggestedPresentationDelay=i),s.length&&(c.mediaGroups.AUDIO.audio=((t,e={})=>{let r;const n=s.reduce((t,n)=>{const i=n.attributes.role&&n.attributes.role.value||"",o=n.attributes.lang||"";let a="main";if(o){const t=i?` (${i})`:"";a=`${n.attributes.lang}${t}`}return t[a]&&t[a].playlists[0].attributes.BANDWIDTH>n.attributes.bandwidth||(t[a]={language:o,autoselect:!0,default:"main"===i,playlists:w([y(n)],e),uri:""},void 0===r&&"main"===i&&((r=n).default=!0)),t},{});return r||(n[Object.keys(n)[0]].default=!0),n})(0,e)),u.length&&(c.mediaGroups.SUBTITLES.subs=((t,e={})=>t.reduce((t,r)=>{const n=r.attributes.lang||"text";return t[n]||(t[n]={language:n,default:!1,autoselect:!1,playlists:w([b(r)],e),uri:""}),t},{}))(u,e)),c},N=(t,e,r)=>{const{NOW:n,clientOffset:i,availabilityStartTime:o,timescale:a=1,start:s=0,minimumUpdatePeriod:u=0}=t,c=(n+i)/1e3+u-(o+s);return Math.ceil((c*a-e)/r)},A=(t,e)=>{const{type:r="static",minimumUpdatePeriod:n=0,media:i="",sourceDuration:o,timescale:a=1,startNumber:s=1,periodIndex:u}=t,c=[];let l=-1;for(let f=0;f<e.length;f++){const h=e[f],p=h.d,d=h.r||0,m=h.t||0;let g;if(l<0&&(l=m),m&&m>l&&(l=m),d<0){const s=f+1;g=s===e.length?"dynamic"===r&&n>0&&i.indexOf("$Number$")>0?N(t,l,p):(o*a-l)/p:(e[s].t-l)/p}else g=d+1;const w=s+c.length+g;let y=s+c.length;for(;y<w;)c.push({number:y,duration:p/a,time:l,timeline:u}),l+=p,y++}return c},T=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,D=(t,e)=>t.replace(T,(t=>(e,r,n,i)=>{if("$$"===e)return"$";if(void 0===t[r])return e;const o=""+t[r];return"RepresentationID"===r?o:(i=n?parseInt(i,10):1,o.length>=i?o:`${new Array(i-o.length+1).join("0")}${o}`)})(e)),R=(t,e)=>{const r={RepresentationID:t.id,Bandwidth:t.bandwidth||0},{initialization:n={sourceURL:"",range:""}}=t,i=f({baseUrl:t.baseUrl,source:D(n.sourceURL,r),range:n.range});return((t,e)=>t.duration||e?t.duration?p(t):A(t,e):[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodIndex}])(t,e).map(e=>{r.Number=e.number,r.Time=e.time;const n=D(t.media||"",r);return{uri:n,timeline:e.timeline,duration:e.duration,resolvedUri:c()(t.baseUrl||"",n),map:i,number:e.number}})},x=(t,e)=>{const{duration:r,segmentUrls:n=[]}=t;if(!r&&!e||r&&e)throw new Error("SEGMENT_TIME_UNSPECIFIED");const i=n.map(e=>((t,e)=>{const{baseUrl:r,initialization:n={}}=t,i=f({baseUrl:r,source:n.sourceURL,range:n.range}),o=f({baseUrl:r,source:e.media,range:e.mediaRange});return o.map=i,o})(t,e));let o;return r&&(o=p(t)),e&&(o=A(t,e)),o.map((t,e)=>{if(i[e]){const r=i[e];return r.timeline=t.timeline,r.duration=t.duration,r.number=t.number,r}}).filter(t=>t)},S=({attributes:t,segmentInfo:e})=>{let r,n;e.template?(n=R,r=o(t,e.template)):e.base?(n=d,r=o(t,e.base)):e.list&&(n=x,r=o(t,e.list));const i={attributes:t};if(!n)return i;const a=n(r,e.timeline);if(r.duration){const{duration:t,timescale:e=1}=r;r.duration=t/e}else a.length?r.duration=a.reduce((t,e)=>Math.max(t,Math.ceil(e.duration)),0):r.duration=0;return i.attributes=r,i.segments=a,e.base&&r.indexRange&&(i.sidx=a[0],i.segments=[]),i},_=t=>t.map(S);var I=r(1),U=r.n(I);const C=(t,e)=>s(t.childNodes).filter(({tagName:t})=>t===e),P=t=>t.textContent.trim(),O=t=>{const e=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(t);if(!e)return 0;const[r,n,i,o,a,s]=e.slice(1);return 31536e3*parseFloat(r||0)+2592e3*parseFloat(n||0)+86400*parseFloat(i||0)+3600*parseFloat(o||0)+60*parseFloat(a||0)+parseFloat(s||0)},L={mediaPresentationDuration:t=>O(t),availabilityStartTime(t){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e=t)&&(e+="Z"),Date.parse(e)/1e3;var e},minimumUpdatePeriod:t=>O(t),suggestedPresentationDelay:t=>O(t),type:t=>t,timeShiftBufferDepth:t=>O(t),start:t=>O(t),width:t=>parseInt(t,10),height:t=>parseInt(t,10),bandwidth:t=>parseInt(t,10),startNumber:t=>parseInt(t,10),timescale:t=>parseInt(t,10),duration(t){const e=parseInt(t,10);return isNaN(e)?O(t):e},d:t=>parseInt(t,10),t:t=>parseInt(t,10),r:t=>parseInt(t,10),DEFAULT:t=>t},M=t=>t&&t.attributes?s(t.attributes).reduce((t,e)=>{const r=L[e.name]||L.DEFAULT;return t[e.name]=r(e.value),t},{}):{};var B=r(5),F=r.n(B);const Y={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},k=(t,e)=>e.length?a(t.map(function(t){return e.map(function(e){return c()(t,P(e))})})):t,z=t=>{const e=C(t,"SegmentTemplate")[0],r=C(t,"SegmentList")[0],n=r&&C(r,"SegmentURL").map(t=>o({tag:"SegmentURL"},M(t))),i=C(t,"SegmentBase")[0],a=r||e,s=a&&C(a,"SegmentTimeline")[0],u=r||i||e,c=u&&C(u,"Initialization")[0],l=e&&M(e);l&&c?l.initialization=c&&M(c):l&&l.initialization&&(l.initialization={sourceURL:l.initialization});const f={template:l,timeline:s&&C(s,"S").map(t=>M(t)),list:r&&o(M(r),{segmentUrls:n,initialization:M(c)}),base:i&&o(M(i),{initialization:M(c)})};return Object.keys(f).forEach(t=>{f[t]||delete f[t]}),f},$=(t,e={})=>{const{manifestUri:r="",NOW:n=Date.now(),clientOffset:i=0}=e,s=C(t,"Period");if(!s.length)throw new Error("INVALID_NUMBER_OF_PERIOD");const u=M(t),c=k([r],C(t,"BaseURL"));return u.sourceDuration=u.mediaPresentationDuration||0,u.NOW=n,u.clientOffset=i,a(s.map(((t,e)=>(r,n)=>{const i=k(e,C(r,"BaseURL")),s=M(r),u=parseInt(s.id,10),c=U.a.isNaN(u)?n:u,l=o(t,{periodIndex:c}),f=C(r,"AdaptationSet"),h=z(r);return a(f.map(((t,e,r)=>n=>{const i=M(n),s=k(e,C(n,"BaseURL")),u=C(n,"Role")[0],c={role:M(u)};let l=o(t,i,c);const f=C(n,"ContentProtection").reduce((t,e)=>{const r=M(e),n=Y[r.schemeIdUri];if(n){t[n]={attributes:r};const i=C(e,"cenc:pssh")[0];if(i){const e=P(i),r=e&&F()(e);t[n].pssh=r}}return t},{});Object.keys(f).length&&(l=o(l,{contentProtection:f}));const h=z(n),p=C(n,"Representation"),d=o(r,h);return a(p.map(((t,e,r)=>n=>{const i=C(n,"BaseURL"),a=k(e,i),s=o(t,M(n)),u=z(n);return a.map(t=>({segmentInfo:o(r,u),attributes:o(s,{baseUrl:t})}))})(l,s,d)))})(l,i,h)))})(u,c)))};var j=r(6);const q=t=>{if(""===t)throw new Error("DASH_EMPTY_MANIFEST");const e=(new j.DOMParser).parseFromString(t,"application/xml"),r=e&&"MPD"===e.documentElement.tagName?e.documentElement:null;if(!r||r&&r.getElementsByTagName("parsererror").length>0)throw new Error("DASH_INVALID_XML");return r},V=n.a,H=(t,e={})=>E(_($(q(t),e)),e.sidxMapping),X=t=>(t=>{const e=C(t,"UTCTiming")[0];if(!e)return null;const r=M(e);switch(r.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":r.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":r.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":r.method="DIRECT",r.value=Date.parse(r.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error("UNSUPPORTED_UTC_TIMING_SCHEME")}return r})(q(t))}]);