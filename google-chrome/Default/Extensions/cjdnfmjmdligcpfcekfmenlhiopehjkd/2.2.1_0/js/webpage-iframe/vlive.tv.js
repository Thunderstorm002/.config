(()=>{if(window.top===window)return;const e="watch-iframe[vlive.tv]",t=new WebpageIframeModule({name:e,hrefURLRegex:new RegExp("https://(www\\.)vlive\\.tv/.*"),earlyInitialize(){const t=browser.runtime.connect({name:e});this.port=t},fullscreenCallback:()=>!0,useActionsAsControls:!0,getActions(){return window.twoseven.initializePlyrActions(()=>this.getVideo())},getVideo(){return this.video},onVideo(e){const{video:t}=e;this.video&&this.video.video===t||(this.video=e,this.url=window.location.href,this.on("same-url",async e=>{await new Promise(e=>{t.addEventListener("loadeddata",function i(){t.removeEventListener("loadeddata",i),e()})}),injectStylesheet("\n          html, body {\n            overflow: hidden;\n          }\n        "),window.twoseven.wrapWithPlyr(t,e),await new Promise(e=>{if(t.src)return e();new MutationObserver(t=>{t.forEach(t=>{if("src"===t.attributeName)return e()})}).observe(t,{attributes:!0})}),await new Promise(e=>{let i=0;t.addEventListener("timeupdate",function n(){i>=5&&(t.removeEventListener("timeupdate",n),t.pause(),e()),i++})}),this.emit("controller-initialized")}),this.emit("controller-ready"))},isValidVideoElement:e=>!!e.closest(".player")});registerWebpageIframeModule(t)})();