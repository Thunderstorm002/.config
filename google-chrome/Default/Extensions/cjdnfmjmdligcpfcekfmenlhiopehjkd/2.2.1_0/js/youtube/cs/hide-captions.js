(()=>{if(window.top!==window)return;const e="youtube:hide-captions",n=`[${e}]`,t=browser.runtime.connect({name:e});t.onMessage.addListener(e=>{if("get-settings"!==e.action)return;const{data:t}=e,{youtube:{disableCaptions:o}}=t;o&&injectScript(`\n        window.addEventListener('room-ready', async () => {\n          function disableCaptions () {\n            youtube.$refs.element.plyr.once('statechange', () => {\n              youtube.$refs.element.plyr.embed.unloadModule('captions')\n              youtube.$refs.element.plyr.embed.unloadModule('cc')\n              twosevenExtLog('${n}', 'YouTube captions should be disabled')\n            })\n          }\n          await new Promise(resolve => {\n            if (youtube.initialized) {\n              return resolve()\n            }\n            youtube.$watch('initialized', resolve)\n          })\n          disableCaptions()\n        })\n      `,!0)}),t.postMessage({action:"get-settings"})})();