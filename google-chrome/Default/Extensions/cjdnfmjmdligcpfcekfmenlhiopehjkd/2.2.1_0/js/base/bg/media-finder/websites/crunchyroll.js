registerWebsite([".*://.*crunchyroll.com.*",".*://dl.v.vrv.co.*"],async(e,a,o)=>{const{Episode:i}=Crunchyroll,{url:r}=await getTabByTabId(e);o.origin=r,o.referer=r,o.videoData.referer=r;const d=new i(r);window.episode=d,await d.parse(),Object.assign(o.videoData),o.videoData.module={name:"crunchyroll",loadMediaFromModule:!0,callModuleBG:!0,addHeaders:!is.firefox(),useLocalURL:!0},o.videoData.title=`${d.seriesTitle} - Episode ${d.episodeNumber}: ${d.episodeTitle}`;try{o.videoData.poster=d.config.thumbnail.url}catch(e){}});