(()=>{const e="frame-identity-cs",n=browser.runtime.connect({name:e});n.name=e,window.addEventListener("message",async e=>{const{data:t={},source:s}=e,{action:a}=t;if(a)switch(a){case"frame-identity":n.onMessage.addListener(function e(a){const{action:i}=a;if("frame-identity"!==i)return;n.onMessage.removeListener(e);const{ack:{event:o}}=t;postTo(s,{action:o,json:a})}),n.postMessage({action:"frame-identity"})}})})();